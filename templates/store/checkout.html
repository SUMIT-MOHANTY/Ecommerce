{% extends "base.html" %}

{% block content %}
<div class="container py-5">
  <h2 class="mb-4" style="color: var(--primary-color); font-weight: 700;">Checkout</h2>
  <div class="row g-4">
    <div class="col-md-7">
      <div class="card p-4 shadow-sm mb-4">
        <h5 class="mb-3">Shipping Information</h5>
        <form id="checkoutForm">
          <div class="mb-3">
            <label class="form-label">Full Name</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Address</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="mb-3">
            <label class="form-label">City</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Postal Code</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Country</label>
            <input type="text" class="form-control" required>
          </div>
          <div class="mb-3">
            <label class="form-label">Payment Method</label>
            <div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="paymentMethod" id="upiOption" value="UPI" checked>
                <label class="form-check-label" for="upiOption">UPI</label>
              </div>
              <div class="form-check form-check-inline">
                <input class="form-check-input" type="radio" name="paymentMethod" id="codOption" value="COD">
                <label class="form-check-label" for="codOption">Cash on Delivery (COD)</label>
              </div>
            </div>
          </div>
          <div class="mb-3" id="upiOptions">
            <label class="form-label">Select UPI App</label>
            <div class="d-flex gap-3 flex-wrap align-items-center">
              <div class="form-check">
                <input class="form-check-input" type="radio" name="upiApp" id="phonepe" value="PhonePe" checked>
                <label class="form-check-label d-flex align-items-center gap-2" for="phonepe">
                  <img src="https://upload.wikimedia.org/wikipedia/commons/4/4c/PhonePe_Logo.svg" alt="PhonePe" style="height: 32px;"> PhonePe
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="upiApp" id="gpay" value="Google Pay">
                <label class="form-check-label d-flex align-items-center gap-2" for="gpay">
                  <img src="https://upload.wikimedia.org/wikipedia/commons/5/5a/Google_Pay_Logo.svg" alt="Google Pay" style="height: 32px;"> Google Pay
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="upiApp" id="paytm" value="Paytm">
                <label class="form-check-label d-flex align-items-center gap-2" for="paytm">
                  <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Paytm_logo.png" alt="Paytm" style="height: 32px;"> Paytm
                </label>
              </div>
              <div class="form-check">
                <input class="form-check-input" type="radio" name="upiApp" id="bhim" value="BHIM">
                <label class="form-check-label d-flex align-items-center gap-2" for="bhim">
                  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/BHIM_logo.svg" alt="BHIM" style="height: 32px;"> BHIM
                </label>
              </div>
            </div>
          </div>
          <div class="mb-3 text-danger d-none" id="codNote">₹50 extra will be charged for Cash on Delivery.</div>
        </form>
      </div>
    </div>
    <div class="col-md-5">
      <div class="card p-4 shadow-sm">
        <h5 class="mb-3">Order Summary</h5>
        <div class="d-flex justify-content-between mb-2">
          <span>Subtotal</span>
          <span id="subtotal">₹3998</span>
        </div>
        <div class="d-flex justify-content-between mb-2">
          <span>Shipping</span>
          <span id="shipping">₹50</span>
        </div>
        <hr>
        <div class="d-flex justify-content-between mb-3">
          <span class="fw-bold">Total</span>
          <span class="fw-bold" id="total">₹4048</span>
        </div>
        <button class="btn btn-success btn-lg w-100"><i class="fas fa-check-circle me-2"></i>Place Order</button>
      </div>
    </div>
  </div>
</div>
<script>
  document.addEventListener('DOMContentLoaded', function() {
    const upiOptions = document.getElementById('upiOptions');
    const codNote = document.getElementById('codNote');
    const shipping = document.getElementById('shipping');
    const total = document.getElementById('total');
    const subtotal = document.getElementById('subtotal');
    function updatePaymentUI() {
      const paymentMethod = document.querySelector('input[name="paymentMethod"]:checked').value;
      let sub = 3998;
      if (paymentMethod === 'COD') {
        upiOptions.classList.add('d-none');
        codNote.classList.remove('d-none');
        shipping.textContent = '₹100';
        total.textContent = '₹' + (sub + 100);
      } else {
        upiOptions.classList.remove('d-none');
        codNote.classList.add('d-none');
        shipping.textContent = '₹50';
        total.textContent = '₹' + (sub + 50);
      }
    }
    document.querySelectorAll('input[name="paymentMethod"]').forEach(function(radio) {
      radio.addEventListener('change', updatePaymentUI);
    });
    updatePaymentUI();
  });
</script>
{% endblock %} 